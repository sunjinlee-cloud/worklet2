<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.project2.worklet.jobPostingService.JobPostingMapper">

    <select id="selectSeqMax" resultType="int">
        select max(emp_seq_no) from job_postings
    </select>

    <insert id="postList" parameterType="com.project2.worklet.component.JobPostingVO2">
        insert into job_postings (emp_seq_no,
        emp_wanted_title,
        emp_busi_nm,
        emp_wanted_stdt,
        emp_wanted_endt,
        emp_wanted_type_nm,
        reg_log_img_nm,
        emp_wanted_homepg_detail)
        values
        <foreach collection="list" item="item" separator=",">
            (
            #{item.empSeqno},
            #{item.empWantedTitle},
            #{item.empBusiNm},
            #{item.empWantedStdt},
            #{item.empWantedEndt},
            #{item.empWantedTypeNm},
            #{item.regLogImgNm},
            #{item.empWantedHomepgDetail}
            )
        </foreach>
    </insert>

    <insert id="postDetail" parameterType="com.project2.worklet.component.JobPostingDetailVO">
        insert into job_postings_detail (emp_seq_no,
            emp_recr_nm,
            emp_wanted_career_nm,
            work_region_nm,
            jobs_cd,
            jobs_cd_kor_nm)
            values
                <foreach collection="list" item="item" separator=",">
                    (
                    #{item.empSeqno},
                    #{item.empRecrNm},
                    #{item.empWantedCareerNm},
                    #{item.workRegionNm},
                    #{item.jobsCd},
                    #{item.jobsCdKorNm}
                    )
                </foreach>
    </insert>

    <select id="getList" resultType="com.project2.worklet.component.JobPostingVO2">
        select * from job_postings where
            emp_seq_no desc
            limit #{cri.pageStart}, #{cri.amount}


    </select>


</mapper>